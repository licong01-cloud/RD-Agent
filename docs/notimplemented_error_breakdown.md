# NotImplementedError ç»†åˆ†ç»Ÿè®¡

æ—¥å¿—æ‰«æç›®å½•ï¼š`C:\Users\lc999\RD-Agent-main\log`

è¯´æ˜ï¼šlog ç›®å½•å†…å¤šä¸ºäºŒè¿›åˆ¶ `.pkl`ï¼Œæœ¬æŠ¥å‘Šé€šè¿‡å¯¹äºŒè¿›åˆ¶å†…å®¹åš best-effort è§£ç å¹¶åœ¨æ–‡æœ¬ä¸­å®šä½ `NotImplementedError`ï¼Œå†ä¾æ®å…³é”®å­—è§„åˆ™è¿›è¡Œå½’ç±»ï¼ˆå¹¶é 100% ç²¾ç¡®ï¼Œä½†è¶³å¤Ÿç”¨äºå®šä½é«˜é¢‘æ ¹å› ï¼‰ã€‚

## åˆ†ç±»ç»Ÿè®¡ï¼ˆæŒ‰å‡ºç°æ¬¡æ•°é™åºï¼‰

| Category | Count | Notes |
| --- | ---: | --- |
| `unknown` | 595 | æ— æ³•ä»ç‰‡æ®µå…³é”®å­—åˆ¤æ–­ |
| `qlib_dataset_indexing_unsupported` | 96 | Qlib Dataset åœ¨ _get_row_col ç­‰è·¯å¾„ä¸Šé‡åˆ°ä¸æ”¯æŒçš„ idx/åˆ‡ç‰‡ç±»å‹ï¼ˆæœ€å…¸å‹çš„ 724 é—®é¢˜æ¥æºï¼‰ |
| `input_type_not_supported` | 61 | å‡ºç° 'This type of input is not supported'ï¼Œä½†ç¼ºå°‘æ˜ç¡® qlib dataset è·¯å¾„ä¿¡æ¯ |

## æ¯ç±»æ ·ä¾‹ï¼ˆæœ€å¤š 3 æ¡ï¼‰

### `unknown`

- **File**: `C:\Users\lc999\RD-Agent-main\log\2025-12-13_06-25-45-651001\Loop_0\coding\evo_loop_1\debug_tpl\35850\2025-12-13_06-47-14-540027.pkl`
  - **Snippet**: `()) File "pandas/_libs/properties.pyx", line 36, in pandas._libs.properties.CachedProperty.__get__ File "/path/to/site-packages/pandas/core/indexes/base.py", line 2817, in _isnan return isna(self) File "/path/to/site-packages/pandas/core/dtypes/missing.py", line 178, in isna return _isna(obj) File "/path/to/site-packages/pandas/core/dtypes/missing.py", line 203, in _isna raise NotImplementedError("isna is not defined for MultiIndex") NotImplementedError: isna is not defined for MultiIndex Expected output file not found. code_feedbackX@ critic 1: ä»£ç åœ¨è®¡ç®—æ»šåŠ¨ç›¸å…³ç³»æ•°æ—¶ä½¿ç”¨äº† `pd.concat` å’Œ `groupby().rolling().corr()` çš„ç»„åˆï¼Œè¿™ä¼šå¯¼è‡´ç”Ÿæˆä¸€ä¸ªå…·æœ‰å¤šå±‚ç´¢å¼•çš„ Seriesï¼Œä¸”å…¶ç´¢å¼•ç»“æ„ä¸åŸå§‹ `df.index` ä¸åŒ¹é…ã€‚é”™è¯¯ä¿¡æ¯è¡¨æ˜ï¼Œåœ¨å°è¯•å¤„ç†åŒ…å« `NaN` å€¼çš„ `MultiIndex` æ—¶ï¼Œ`pandas` å†…éƒ¨å‡ºç°äº† `NotImplementedError`ã€‚è¿™æ˜¯å› ä¸º `rolling().corr()` åœ¨åº”ç”¨äºåŒ…å«ä¸¤ä¸ªå˜é‡çš„ `DataFrame` æ—¶ï¼Œå…¶è¾“å‡ºç´¢å¼•ä¼šåŒ…å«ä¸€ä¸ªé¢å¤–çš„å±‚çº§ï¼ˆå˜é‡åï¼‰ï¼Œè€Œåç»­çš„ `.xs()` æ“ä½œå’Œ `reset_index` å¯èƒ½æ— æ³•å®Œå…¨æ­£ç¡®åœ°æ¢å¤ä¸åŸå§‹æ•°æ®å¯¹é½çš„ç´¢å¼•ã€‚è¿™ç§ç´¢å¼•é”™ä½æ˜¯å¯¼è‡´æ‰§è¡Œå¤±è´¥çš„æ ¹æœ¬åŸå› ã€‚ critic 2: å› å­å®šä¹‰è¦æ±‚è®¡ç®—è¿‡å»5ä¸ªäº¤æ˜“æ—¥çš„é‡ä»·ç›¸å…³ç³»æ•°ï¼Œä½†ä»£ç ä¸­è®¡ç®— `price_change` å’Œ `volume_change` æ—¶ä½¿ç”¨äº† `shift(1)`ï¼Œè¿™ä¼šäº§ç”Ÿ`
- **File**: `C:\Users\lc999\RD-Agent-main\log\2025-12-13_06-25-45-651001\Loop_0\coding\evo_loop_1\debug_tpl\35850\2025-12-13_06-47-14-540027.pkl`
  - **Snippet**: `as._libs.properties.CachedProperty.__get__ File "/path/to/site-packages/pandas/core/indexes/base.py", line 2817, in _isnan return isna(self) File "/path/to/site-packages/pandas/core/dtypes/missing.py", line 178, in isna return _isna(obj) File "/path/to/site-packages/pandas/core/dtypes/missing.py", line 203, in _isna raise NotImplementedError("isna is not defined for MultiIndex") NotImplementedError: isna is not defined for MultiIndex Expected output file not found. code_feedbackX@ critic 1: ä»£ç åœ¨è®¡ç®—æ»šåŠ¨ç›¸å…³ç³»æ•°æ—¶ä½¿ç”¨äº† `pd.concat` å’Œ `groupby().rolling().corr()` çš„ç»„åˆï¼Œè¿™ä¼šå¯¼è‡´ç”Ÿæˆä¸€ä¸ªå…·æœ‰å¤šå±‚ç´¢å¼•çš„ Seriesï¼Œä¸”å…¶ç´¢å¼•ç»“æ„ä¸åŸå§‹ `df.index` ä¸åŒ¹é…ã€‚é”™è¯¯ä¿¡æ¯è¡¨æ˜ï¼Œåœ¨å°è¯•å¤„ç†åŒ…å« `NaN` å€¼çš„ `MultiIndex` æ—¶ï¼Œ`pandas` å†…éƒ¨å‡ºç°äº† `NotImplementedError`ã€‚è¿™æ˜¯å› ä¸º `rolling().corr()` åœ¨åº”ç”¨äºåŒ…å«ä¸¤ä¸ªå˜é‡çš„ `DataFrame` æ—¶ï¼Œå…¶è¾“å‡ºç´¢å¼•ä¼šåŒ…å«ä¸€ä¸ªé¢å¤–çš„å±‚çº§ï¼ˆå˜é‡åï¼‰ï¼Œè€Œåç»­çš„ `.xs()` æ“ä½œå’Œ `reset_index` å¯èƒ½æ— æ³•å®Œå…¨æ­£ç¡®åœ°æ¢å¤ä¸åŸå§‹æ•°æ®å¯¹é½çš„ç´¢å¼•ã€‚è¿™ç§ç´¢å¼•é”™ä½æ˜¯å¯¼è‡´æ‰§è¡Œå¤±è´¥çš„æ ¹æœ¬åŸå› ã€‚ critic 2: å› å­å®šä¹‰è¦æ±‚è®¡ç®—è¿‡å»5ä¸ªäº¤æ˜“æ—¥çš„é‡ä»·ç›¸å…³ç³»æ•°ï¼Œä½†ä»£ç ä¸­è®¡ç®— `price_change` å’Œ `volume_change` æ—¶ä½¿ç”¨äº† `shift(1)`ï¼Œè¿™ä¼šäº§ç”Ÿå‰ä¸€å¤©çš„æ”¶ç›Šç‡ã€‚ç„¶è€Œï¼Œåœ¨æ„å»ºæ»šåŠ¨çª—å£æ—¶ï¼Œ`rolling(window=5)` ä¼šåŒ…å«å½“å‰æ—¥åŠå‰4æ—¥çš„æ•°æ®ï¼ˆå…±5è¡Œï¼‰`
- **File**: `C:\Users\lc999\RD-Agent-main\log\2025-12-13_06-25-45-651001\Loop_0\coding\evo_loop_1\debug_tpl\35850\2025-12-13_06-47-14-540027.pkl`
  - **Snippet**: `ndas/core/dtypes/missing.py", line 203, in _isna raise NotImplementedError("isna is not defined for MultiIndex") NotImplementedError: isna is not defined for MultiIndex Expected output file not found. code_feedbackX@ critic 1: ä»£ç åœ¨è®¡ç®—æ»šåŠ¨ç›¸å…³ç³»æ•°æ—¶ä½¿ç”¨äº† `pd.concat` å’Œ `groupby().rolling().corr()` çš„ç»„åˆï¼Œè¿™ä¼šå¯¼è‡´ç”Ÿæˆä¸€ä¸ªå…·æœ‰å¤šå±‚ç´¢å¼•çš„ Seriesï¼Œä¸”å…¶ç´¢å¼•ç»“æ„ä¸åŸå§‹ `df.index` ä¸åŒ¹é…ã€‚é”™è¯¯ä¿¡æ¯è¡¨æ˜ï¼Œåœ¨å°è¯•å¤„ç†åŒ…å« `NaN` å€¼çš„ `MultiIndex` æ—¶ï¼Œ`pandas` å†…éƒ¨å‡ºç°äº† `NotImplementedError`ã€‚è¿™æ˜¯å› ä¸º `rolling().corr()` åœ¨åº”ç”¨äºåŒ…å«ä¸¤ä¸ªå˜é‡çš„ `DataFrame` æ—¶ï¼Œå…¶è¾“å‡ºç´¢å¼•ä¼šåŒ…å«ä¸€ä¸ªé¢å¤–çš„å±‚çº§ï¼ˆå˜é‡åï¼‰ï¼Œè€Œåç»­çš„ `.xs()` æ“ä½œå’Œ `reset_index` å¯èƒ½æ— æ³•å®Œå…¨æ­£ç¡®åœ°æ¢å¤ä¸åŸå§‹æ•°æ®å¯¹é½çš„ç´¢å¼•ã€‚è¿™ç§ç´¢å¼•é”™ä½æ˜¯å¯¼è‡´æ‰§è¡Œå¤±è´¥çš„æ ¹æœ¬åŸå› ã€‚ critic 2: å› å­å®šä¹‰è¦æ±‚è®¡ç®—è¿‡å»5ä¸ªäº¤æ˜“æ—¥çš„é‡ä»·ç›¸å…³ç³»æ•°ï¼Œä½†ä»£ç ä¸­è®¡ç®— `price_change` å’Œ `volume_change` æ—¶ä½¿ç”¨äº† `shift(1)`ï¼Œè¿™ä¼šäº§ç”Ÿå‰ä¸€å¤©çš„æ”¶ç›Šç‡ã€‚ç„¶è€Œï¼Œåœ¨æ„å»ºæ»šåŠ¨çª—å£æ—¶ï¼Œ`rolling(window=5)` ä¼šåŒ…å«å½“å‰æ—¥åŠå‰4æ—¥çš„æ•°æ®ï¼ˆå…±5è¡Œï¼‰ã€‚è¿™ä¸å…¬å¼ä¸­ `Î”P_{t-4:t}` çš„è¡¨è¿°ï¼ˆä» `t-4` åˆ° `t`ï¼ŒåŒ…å« `t`ï¼‰æ˜¯ä¸€è‡´çš„ã€‚ä½†æ˜¯ï¼Œéœ€è¦æ³¨æ„ `price_change` åœ¨ `t` æ—¥è®¡ç®—çš„æ˜¯ `Close_t / Close_{t-1} - 1`ï¼Œè¿™ä»£è¡¨äº†ä» `t-1` åˆ° `t` çš„å˜åŒ–ã€‚å› æ­¤ï¼Œç”± `price_change` åºåˆ—åœ¨çª—å£ `[t-4, t]` ä¸Šè®¡ç®—ç›¸å…³ç³»æ•°ï¼Œå®é™…ä¸Šä½¿ç”¨çš„æ˜¯ä» `t-4` åˆ° `t-3`ã€`t-3` åˆ° `t-2`ã€...ã€`t-1` åˆ° `t` è¿™5ä¸ª**åŒºé—´**çš„å˜åŒ–ç‡ã€‚è¿™ä¸å…¬å¼çš„ç›´è§‚ç†è§£ç›¸ç¬¦ï¼Œä½†å®ç°ä¸Šéœ€è¦ç¡®ä¿çª—å£è®¡ç®—é€»è¾‘æ­£ç¡®ï¼Œå¹¶ä¸”è¦å¤„ç†å› `

### `qlib_dataset_indexing_unsupported`

- **File**: `C:\Users\lc999\RD-Agent-main\log\2025-12-13_06-25-45-651001\Loop_3\direct_exp_gen\debug_tpl\35850\2025-12-13_08-01-03-258115.pkl`
  - **Snippet**: `line 40, in _prepare_data x, y = df["feature"], df["label"] File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/qlib/data/dataset/__init__.py", line 622, in __getitem__ indices = self._get_indices(*self._get_row_col(idx)) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/qlib/data/dataset/__init__.py", line 595, in _get_row_col raise NotImplementedError(f"This type of input is not supported") NotImplementedError: This type of input is not supported ubj)}(jjNh&j5jNjNjX Failed to run GRU_Return_Predictor model, because [41944:MainThread](2025-12-13 15:55:59,031) INFO - qlib.qrun - [cli.py:78] - Render the template with the context: {'dataset_cls': 'TSDatasetH', 'step_len': '20'} [41944:MainThread](2025-12-13 15:55:59,055) INFO - qlib.Initialization - [config.py:420] - default_conf: client. [41944:MainThread](2025-12-13 15:55:59,067) INFO - qlib.Initialization - [__init__.py:74] - qlib successfully ini`
- **File**: `C:\Users\lc999\RD-Agent-main\log\2025-12-13_06-25-45-651001\Loop_3\direct_exp_gen\debug_tpl\35850\2025-12-13_08-01-03-258115.pkl`
  - **Snippet**: `l"] File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/qlib/data/dataset/__init__.py", line 622, in __getitem__ indices = self._get_indices(*self._get_row_col(idx)) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/qlib/data/dataset/__init__.py", line 595, in _get_row_col raise NotImplementedError(f"This type of input is not supported") NotImplementedError: This type of input is not supported ubj)}(jjNh&j5jNjNjX Failed to run GRU_Return_Predictor model, because [41944:MainThread](2025-12-13 15:55:59,031) INFO - qlib.qrun - [cli.py:78] - Render the template with the context: {'dataset_cls': 'TSDatasetH', 'step_len': '20'} [41944:MainThread](2025-12-13 15:55:59,055) INFO - qlib.Initialization - [config.py:420] - default_conf: client. [41944:MainThread](2025-12-13 15:55:59,067) INFO - qlib.Initialization - [__init__.py:74] - qlib successfully initialized based on client settings. [41944:MainThread](2025-1`
- **File**: `C:\Users\lc999\RD-Agent-main\log\2025-12-13_06-25-45-651001\Loop_3\direct_exp_gen\debug_tpl\35850\2025-12-13_08-01-03-258115.pkl`
  - **Snippet**: `line 40, in _prepare_data x, y = df["feature"], df["label"] File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/qlib/data/dataset/__init__.py", line 622, in __getitem__ indices = self._get_indices(*self._get_row_col(idx)) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/qlib/data/dataset/__init__.py", line 595, in _get_row_col raise NotImplementedError(f"This type of input is not supported") NotImplementedError: This type of input is not supported jj5jj5jNube dag_parent] idx2loop_id}knowledge_baseNcurrent_selectionJ controller&rdagent.scenarios.qlib.proposal.bandit EnvController)}(weightshhKhİ‡R(KKjC@?????333333???tbbanditj\LinearThompsonTwoArm)}(dimK noise_varG?mean}(factorhhKhİ‡R(KKjC@tbmodelhhKhİ‡R(KKjC@tbu precision}(jqhhKhİ‡R(KKK`

### `input_type_not_supported`

- **File**: `C:\Users\lc999\RD-Agent-main\log\2025-12-13_06-25-45-651001\Loop_3\direct_exp_gen\debug_tpl\35850\2025-12-13_08-01-03-258115.pkl`
  - **Snippet**: `- Time cost: 31.221s | fit & process data Done [41944:MainThread](2025-12-13 16:00:35,438) INFO - qlib.timer - [log.py:127] - Time cost: 244.457s | Init data Done [41944:MainThread](2025-12-13 16:00:54,594) INFO - qlib.timer - [log.py:127] - Time cost: 0.001s | waiting `async_log` Done [41944:MainThread](2025-12-13 16:00:54,650) ERROR - qlib.workflow - [utils.py:41] - An exception has been raised[NotImplementedError: This type of input is not supported]. File "/home/lc999/miniconda3/envs/rdagent-gpu/bin/qrun", line 7, in <module> sys.exit(run()) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/qlib/workflow/cli.py", line 153, in run fire.Fire(workflow) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/fire/core.py", line 135, in Fire component_trace = _Fire(component, args, parsed_flag_args, context, name) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/fire/core.py", line 468, in _Fire`
- **File**: `C:\Users\lc999\RD-Agent-main\log\2025-12-13_06-25-45-651001\Loop_3\direct_exp_gen\debug_tpl\35850\2025-12-13_08-01-03-258115.pkl`
  - **Snippet**: `- Time cost: 31.221s | fit & process data Done [41944:MainThread](2025-12-13 16:00:35,438) INFO - qlib.timer - [log.py:127] - Time cost: 244.457s | Init data Done [41944:MainThread](2025-12-13 16:00:54,594) INFO - qlib.timer - [log.py:127] - Time cost: 0.001s | waiting `async_log` Done [41944:MainThread](2025-12-13 16:00:54,650) ERROR - qlib.workflow - [utils.py:41] - An exception has been raised[NotImplementedError: This type of input is not supported]. File "/home/lc999/miniconda3/envs/rdagent-gpu/bin/qrun", line 7, in <module> sys.exit(run()) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/qlib/workflow/cli.py", line 153, in run fire.Fire(workflow) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/fire/core.py", line 135, in Fire component_trace = _Fire(component, args, parsed_flag_args, context, name) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/fire/core.py", line 468, in _Fire`
- **File**: `C:\Users\lc999\RD-Agent-main\log\2025-12-13_06-25-45-651001\Loop_3\direct_exp_gen\debug_tpl\35850\2025-12-13_08-01-03-393778.pkl`
  - **Snippet**: `- Time cost: 31.221s | fit & process data Done [41944:MainThread](2025-12-13 16:00:35,438) INFO - qlib.timer - [log.py:127] - Time cost: 244.457s | Init data Done [41944:MainThread](2025-12-13 16:00:54,594) INFO - qlib.timer - [log.py:127] - Time cost: 0.001s | waiting `async_log` Done [41944:MainThread](2025-12-13 16:00:54,650) ERROR - qlib.workflow - [utils.py:41] - An exception has been raised[NotImplementedError: This type of input is not supported]. File "/home/lc999/miniconda3/envs/rdagent-gpu/bin/qrun", line 7, in <module> sys.exit(run()) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/qlib/workflow/cli.py", line 153, in run fire.Fire(workflow) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/fire/core.py", line 135, in Fire component_trace = _Fire(component, args, parsed_flag_args, context, name) File "/home/lc999/miniconda3/envs/rdagent-gpu/lib/python3.10/site-packages/fire/core.py", line 468, in _Fire`
